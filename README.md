# Inventory-v2 Server Side Rendering

## Folder Structure

```
.
├── dist
│   ├── assets
│   │   ├── client.bundle.js
│   │   └── index.html
│   └── server.bundle.js
├── package.json
├── package-lock.json
├── README.md
├── server.js
├── src
│   ├── client
│   │   ├── entry.js
│   │   └── index.html
│   ├── components
│   │   ├── App.js
│   │   └── Message.js
│   └── server
│       └── entry.js
├── webpack.client.config.js
└── webpack.server.config.js
```
(generated by `tree -I node_modules`)

* `dist/assets/client.bundle.js`  
Loaded by client to hydrate react app.

* `dist/assets/index.html`  
Copy of `src/client/index.html` updated every `$ npm run build:client`.

* `dist/server.bundle.js`  
React app without dependencies. `webpack.server.config.js` externs all node_module dependencies during bundling. Any dependencies need to be manually required in `server.js`.

* `package.json`  
`devDependencies` are used for bundling. `dependencies` are used for actually serving ssr content.

* `server.js`  
This is the nodejs server that actually renders and serves the app. Must at least require `server.bundle.js`, `react-dom/server` and any dependencies of the app.

* `src/client/entry.js`  
Main entrypoint for client. Hydrates the react app containing div with the main `App` component.

* `src/client/index.html`  
Basic single page app html for webpack-dev-server. Used only for debugging.

* `src/components/App.js`  
The main react component.

* `src/server/entry.js`  
Entrypoint during bundling of `server.bundle.js`. Exports main react component.

* `webpack.client.config.js`  
Webpack configuration for generating client.bundle.js, css and other assets.

* `webpack.server.config.js`  
Webpack configuration for generating stripped down server.bundle.js for loading in nodejs server.
