# Inventory-v2 Server Side Rendering

## Project Structure

```
.
├── Dockerfile
├── README.md
├── dist
│   ├── assets
│   │   ├── client.bundle.js
│   │   ├── index.html
│   │   └── main.css
│   └── server.bundle.js
├── package-lock.json
├── package.json
├── server.js
├── src
│   ├── actions.js
│   ├── client
│   │   ├── entry.jsx
│   │   └── index.html
│   ├── components [19 entries exceeds filelimit, not opening dir]
│   ├── constants.js
│   ├── defaultState.js
│   ├── img
│   │   ├── logo-inkscape.svg
│   │   ├── logo.svg
│   │   └── search.svg
│   ├── reducers.js
│   ├── server
│   │   └── entry.jsx
│   └── styles
│       ├── App.css
│       ├── Navbar.less
│       ├── accessibility.less
│       └── colors.less
├── stats.json
├── webpack.client.common.js
├── webpack.client.development.config.js
├── webpack.client.production.config.js
├── webpack.common.js
├── webpack.server.config.js
└── yarn.lock
```
(generated by `tree -I node_modules --filelimit 15`)

* `dist/assets/client.bundle.js`  
Loaded by client to hydrate react app.

* `dist/assets/index.html`  
Copy of `src/client/index.html` updated every `npm run build:client`.

* `dist/server.bundle.js`  
React app without dependencies. `webpack.server.config.js` externs all node_module dependencies during bundling. Any dependencies need to be manually required in `server.js`.

* `package.json`  
TODO: separate out `devDependencies:` (used for bundling) from `dependencies:` used for only serving ssr content. Production deploys should not need development dependencies to be installed.

* `server.js`  
This is the nodejs server that actually renders and serves the app. Must at least require `server.bundle.js`, `react-dom/server` and any runtime dependencies of the app.

* `src/client/entry.jsx`  
Main entrypoint for client. Hydrates the static app rendered by the server.

* `src/client/index.html`  
Basic single page app html for webpack-dev-server. Used only for development.

* `src/components/App.jsx`  
The main react component imported by both `src/client/entry.jsx` and `src/server/entry.jsx`

* `src/server/entry.jsx`  
Entrypoint during bundling of `server.bundle.js`. Exports main react component.

* `webpack.client.development.config.js`  
Webpack configuration for generating client.bundle.js, css and other assets for development.

* `webpack.client.production.config.js`  
Webpack configuration for generating client.bundle.js, css and other assets for production.

* `webpack.client.common.js`  
The the configuration that is shared between client development and production.

* `webpack.server.config.js`  
Webpack configuration for generating stripped down server.bundle.js for loading by nodejs server.

* `stats.json`

* `yarn.lock`

### Redux files

* `src/actions.js`

* `src/reducers.js`

* `src/defaultState.js`

* `src/constants.js`
